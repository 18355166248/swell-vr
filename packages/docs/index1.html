<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>threejs Demo1</title>
    <link rel="stylesheet" href="./assets/common.css" />
    <link rel="stylesheet" href="./assets/demo.css" />
    <!-- 引入 threejs -->
    <script src="./assets/three/three.min.js"></script>

    <script src="../vr/dist/vr.umd.js"></script>
  </head>

  <body>
    <div class="demo">
      <!-- 提示 -->
      <div class="demo-tip">
        <!-- 提示标题 -->
        <div class="demo-tip-title"></div>
        <!-- 提示内容 -->
        <div class="demo-tip-content"></div>
      </div>
      <div class="demo-container"></div>
    </div>

    <script>
      const {Vr360} = Vr
      const container = document.querySelector('.demo-container') // 360全景容器
      const tip = document.querySelector('.demo-tip')

      const vr360 = new Vr360({
        container,
        tipContainer: tip,
        spacesConfig: [
          {
            id: 'space1',
            tips: [
              {
                id: '1',
                position: {x: 0, y: -10, z: 40},
                content: {
                  title: '坐骑',
                  content: '文本描述',
                },
              },
              {
                id: '2',
                position: {x: -10, y: -6, z: 40},
                textureUrl:
                  'https://m.360buyimg.com/babel/jfs/t1/125314/12/31594/6260/6339b149E14068522/5c0d35a3e149936a.png',
                targetSpaceId: 'space2',
                content: {
                  title: '去客厅',
                  content: '走吧',
                },
              },
            ],
            cubeSpaceTextureUrls: {
              // 立方体贴图，分别为：背侧、下侧、前侧、左侧、右侧、上侧，必须
              // back: './assets/XIMA/back.JPG',
              // down: './assets/XIMA/down.JPG',
              // front: './assets/XIMA/front.JPG',
              // left: './assets/XIMA/left.JPG',
              // right: './assets/XIMA/right.JPG',
              // up: './assets/XIMA/up.JPG'
              back: 'https://m.360buyimg.com/babel/jfs/t1/40814/31/19646/41953/63398297E0707fe35/4e831e60cf579899.jpg',
              down: 'https://m.360buyimg.com/babel/jfs/t1/43941/23/19369/84038/633982d7E838acd9a/9e7a89cc910d3409.jpg',
              front:
                'https://m.360buyimg.com/babel/jfs/t1/150573/35/27827/113528/633982faE8556c0c0/b455284fd91885c6.jpg',
              left: 'https://m.360buyimg.com/babel/jfs/t1/189204/25/29491/61430/63398310E3c180e43/26d9b459cf714f9f.jpg',
              right:
                'https://m.360buyimg.com/babel/jfs/t1/184948/34/28448/131232/63398323E61ff80fb/89ab84eda0421260.jpg',
              up: 'https://m.360buyimg.com/babel/jfs/t1/86258/24/33602/70616/63398334Ea2dcf448/e2f5c275792fb3d6.jpg',
            },
          },
        ],
      })

      // 设置全景自动旋转
      vr360.controls.autoRotate = true

      vr360.render()

      vr360.listenResize()

      // 页面销毁时卸载实例
      window.addEventListener('unload', () => {
        vr360.destroy()
      })
    </script>
  </body>
</html>
